<div style="display:none" id='container3'>
</div>
<div class="container">
<form id="form1" action="" method="POST" style="width: 1000px !important;">



<div class="md:flex md:items-center mb-6">
<div class="md:w-1/3">
<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">Co-Ordinates Y</label>
</div>
<div class="md:w-2/3">
<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text" id="result123" value="0" name="name" placeholder="John Doe">
</div>
</div>

<!-- test123 -->
<div class="md:flex md:items-center mb-6">
<div class="md:w-1/3">
<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">Co-Ordinates X</label>
</div>
<div class="md:w-2/3">
<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text"  id="result123a" value="0" name="name" placeholder="John Doe">
</div>
</div>

<div class="md:flex md:items-center mb-6">
<div class="md:w-1/3">
<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">Width of Image</label>
</div>
<div class="md:w-2/3">
<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text"  id="result123b" value="0" name="name" placeholder="John Doe">
</div>
</div>
<!-- test123b -->
<div class="md:flex md:items-center mb-6">
<div class="md:w-1/3">
<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">Length of Image</label>
</div>
<div class="md:w-2/3">
<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text"  id="result123c" value="0" name="name" placeholder="John Doe">
</div>
</div>
<div class="md:flex md:items-center mb-6">
    <div class="md:w-1/3">
        <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">Scale Slider</label>
        </div>
<div id="range">
    <input type="range" class="image-scale-lever" step="1" max="10" min="1" value="10" id="scale-control" />
    </div>
</div>
<!-- test123b -->
<div class="md:flex md:items-center mb-6">
<div class="md:w-1/3">
<label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="name">Price</label>
</div>
<div class="md:w-2/3">
<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500" type="text"  id="result123d" value="0" name="name" placeholder="Â£0.00">
</div>
</div>
<div class="md:flex md:items-center">
<div class="md:w-1/3"></div>
<div class="md:w-2/3">
    <a class="inline cboxElement"  onclick="showModal()">Inline HTML</a>
<button onclick="showModal()" class="inline cboxElement shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded">Submit</button>
</div>
</div>
<div id="container4">
&nbsp;
</div>
<div id="container5">
    &nbsp;
    </div>
</form>
<div id="adGrid" class="adGrid">
<% for (var i = 0; i < results.length; i++) { %>
<% if(results[i].approved !== false){ %>
<%-'<a href="'%><%= results[i].url%>" data-idx="0">
<%-'<img src="https://'%><%= results[i].cid%><%-'.ipfs.nftstorage.link/'%><%= results[i].image%>" class="blank" style="object-fit: contain;object-position: center;left:<%= results[i].Coordinatesy%>px;top:<%= results[i].Coordinatesx%>px;width:<%= results[i].width%>px;height:<%= results[i].height%>px;background:#f79361cc"></a>
<% } else { %>
<a href="#" data-idx="0"><img src="/images/pending.gif" class="blank" style="object-fit: contain;object-position: center;left:<%= results[i].Coordinatesy%>px;top:<%= results[i].Coordinatesx%>px;width:width:<%= results[i].width%>px;height:<%= results[i].height%>px;background:#f79361cc"></a>
<% } %>
<% } %>
</div>
</div>
<div>
<canvas id="c" class="canvashidden" style="">
</canvas>
</div>

<script>
    $( document ).ready(function() {
        function roundUpNearest10(num) {
  return Math.round(num / 10) * 10;
  };

var childClicked = false;

// myContainer is the nearest container div to the clickable elements 
$("#adGrid").children().click(function(e) {
    console.log('in element');
    childClicked = true;
});

$("#adGrid").click(function(e){
    if(!childClicked) {
        console.log('in background');
        e.preventDefault();
        e.stopPropagation();
        console.log(roundUpNearest10(e.offsetX) + " " + roundUpNearest10(e.offsetY));
        $("#c").removeClass( "canvashidden" );
        $("#c").addClass("canvasreveal");
    }
    childClicked = false;
});
});
</script>